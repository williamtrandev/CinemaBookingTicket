<html lang="en" xmlns:th="http://www.thymeleaf.org" th:fragment = "page(title, links, scripts)">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title th:text="${title}"></title>
    <link rel="icon" th:href="@{/img/favicon.ico}" type="image/x-icon">
    <link rel="stylesheet" th:href="@{/css/root.css}" />
    <link rel="stylesheet" th:href="@{/css/bottomNavbar.css}" />
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <th:block th:if = "${links}">
        <link th:each="cssFile : ${links}" rel="stylesheet" th:href="@{'/css/' + ${cssFile}}" />
    </th:block>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js" integrity="sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script th:inline="javascript">
        $(function() {
            $("#btnSubmit").click(()=>{
                let dynamicPath = /*[[@{/api/v1/movie}]]*/ '';
                let formBody = new FormData($("#form")[0]);
                fetch(`${dynamicPath}/create`, {
                    method: "POST",
                    body: formBody,
                })
                .then(res=>res.json())
                .then(data=>{
                    console.log(data);
                })
                .catch(err=>console.log(err));
            })
        })
    </script>
</head>

<body>

<div th:replace = "~{fragments/admin_nav :: nav}"></div>
<section class="my-section">
    <div class="container mb-5">
        <div th:replace = "~{this :: content}"></div>

    </div>


</section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js" integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
<script th:src="@{/js/script.js}"></script>
<th:block th:if = "${scripts}">
    <th:block th:replace = "${scripts}"/>
    <script th:each="jsFile : scripts" th:src="@{'/js/' + @{jsFile}}"></script>
</th:block>
</body>

</html>